<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Line Rotation Manager</title>
    <style>
      :root{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;line-height:1.5;font-weight:400;color-scheme:light;color:#2c3e50;background-color:#f5f5f5;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*{box-sizing:border-box}body{margin:0;padding:0;min-height:100vh;background-color:#f5f5f5}#app{width:100%;min-height:100vh}button{font-family:inherit;font-size:inherit}.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.station-layout.svelte-pv8ean{background:#fff;border-radius:6px;padding:15px;box-shadow:0 2px 4px #0000001a;height:fit-content;position:relative}.station-layout.fullscreen.svelte-pv8ean{position:fixed;inset:0;z-index:1000;border-radius:0;padding:20px;background:#f8f9fa;height:100vh;overflow:auto}.header-bar.svelte-pv8ean{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}h2.svelte-pv8ean{margin:0;color:#2c3e50;border-bottom:2px solid #ecf0f1;padding-bottom:8px;font-size:1.2rem;flex:1}.fullscreen-btn.svelte-pv8ean{background:#c8e6c9;border:none;border-radius:6px;padding:8px 12px;cursor:pointer;font-size:1rem;transition:all .2s;color:#2c3e50;margin-left:15px}.fullscreen-btn.svelte-pv8ean:hover{background:#a5d6a7;transform:scale(1.05)}.exit-fullscreen-btn.svelte-pv8ean{position:absolute;top:20px;right:20px;background:#ffcdd2;border:none;border-radius:50%;width:40px;height:40px;cursor:pointer;font-size:1.2rem;font-weight:700;color:#2c3e50;transition:all .2s;z-index:1001}.exit-fullscreen-btn.svelte-pv8ean:hover{background:#ef9a9a;transform:scale(1.1)}.empty-state.svelte-pv8ean{text-align:center;padding:30px;color:#7f8c8d;font-style:italic}.legend.svelte-pv8ean{margin-bottom:15px;padding:10px;background:#f8f9fa;border-radius:4px}.legend.svelte-pv8ean h3:where(.svelte-pv8ean){margin:0 0 8px;font-size:.9rem;color:#495057}.legend-items.svelte-pv8ean{display:flex;gap:15px;flex-wrap:wrap}.legend-item.svelte-pv8ean{display:flex;align-items:center;gap:6px}.color-box.svelte-pv8ean{width:16px;height:16px;border-radius:2px;border:1px solid rgba(0,0,0,.2)}.groups-container.svelte-pv8ean{display:grid;grid-template-columns:1fr 1fr;gap:15px;max-height:calc(100vh - 220px);overflow-y:auto}.groups-container.fullscreen-grid.svelte-pv8ean{grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-height:calc(100vh - 80px);padding-top:40px}.station-group.svelte-pv8ean{border:2px solid;border-radius:6px;overflow:hidden;background:#fff;height:fit-content}.group-header.svelte-pv8ean{color:#2c3e50;padding:10px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px;min-height:40px}.group-info.svelte-pv8ean{display:flex;flex-direction:column;gap:4px}.group-title.svelte-pv8ean{display:flex;align-items:center;gap:8px}.group-info.svelte-pv8ean h3:where(.svelte-pv8ean){margin:0;font-size:1rem}.risk-badge.svelte-pv8ean{background:#2c3e501a;color:#2c3e50;padding:2px 6px;border-radius:8px;font-size:.7rem;font-weight:700}.assigned-employee.svelte-pv8ean{font-weight:700;font-size:.85rem}.employee-name.svelte-pv8ean{background:#2c3e50cc;color:#fff;padding:4px 8px;border-radius:12px;font-size:.8rem}.no-assignment.svelte-pv8ean{background:#2c3e5033;color:#2c3e50;padding:4px 8px;border-radius:12px;font-size:.8rem;font-style:italic}.stations-grid.svelte-pv8ean{display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:6px;padding:10px;background:#f8f9fa}.stations-grid.fullscreen-stations.svelte-pv8ean{grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:8px;padding:15px}.station.svelte-pv8ean{border:2px solid;border-radius:4px;padding:6px;text-align:center;color:#2c3e50;font-weight:700;min-height:60px;width:130px;display:flex;flex-direction:column;justify-content:center;transition:transform .2s;font-size:.8rem}.station.fullscreen-station.svelte-pv8ean{min-height:80px;width:150px;font-size:.9rem;padding:10px}.station.svelte-pv8ean:hover{transform:scale(1.05);box-shadow:0 3px 6px #0003}.station-number.svelte-pv8ean{font-size:.9rem;margin-bottom:3px}.station-name.svelte-pv8ean{font-size:.8rem;margin-bottom:3px;opacity:.9;line-height:1.1}.station-risk.svelte-pv8ean{font-size:.8rem;opacity:.8;background:#2c3e5026;color:#2c3e50;padding:1px 4px;border-radius:6px;margin-top:2px}@media (max-width: 1200px){.groups-container.svelte-pv8ean{grid-template-columns:1fr}.groups-container.fullscreen-grid.svelte-pv8ean{grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}}@media (max-width: 768px){.station-layout.fullscreen.svelte-pv8ean{padding:15px}.groups-container.fullscreen-grid.svelte-pv8ean{grid-template-columns:1fr;gap:15px;padding-top:50px}.stations-grid.fullscreen-stations.svelte-pv8ean{grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:6px;padding:10px}.station.fullscreen-station.svelte-pv8ean{min-height:70px;width:120px;font-size:.8rem;padding:8px}.legend.svelte-pv8ean{padding:8px}.legend.svelte-pv8ean h3:where(.svelte-pv8ean){font-size:.8rem}}.control-panel.svelte-ti49u{background:#fff;border-radius:6px;padding:15px;box-shadow:0 2px 4px #0000001a;height:fit-content;max-height:calc(100vh - 120px);overflow-y:auto}h2.svelte-ti49u{margin:0 0 15px;color:#2c3e50;border-bottom:1px solid #ecf0f1;padding-bottom:8px;font-size:1.2rem}h3.svelte-ti49u{margin:0 0 12px;color:#34495e;font-size:1rem}.section.svelte-ti49u{margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid #ecf0f1}.section.svelte-ti49u:last-child{border-bottom:none;margin-bottom:0}.empty-message.svelte-ti49u{color:#7f8c8d;font-style:italic;margin:8px 0;font-size:.9rem}.employee-controls.svelte-ti49u{display:flex;gap:8px;margin-bottom:12px}.employee-list.svelte-ti49u{max-height:150px;overflow-y:auto;border:1px solid #e9ecef;border-radius:6px;padding:8px;background:#f8f9fa}.employee-item.svelte-ti49u{display:flex;align-items:flex-start;gap:8px;margin-bottom:8px;cursor:pointer;padding:8px;border-radius:6px;transition:background-color .2s;background:#fff;border:1px solid #e9ecef}.employee-item.svelte-ti49u:hover{background-color:#e3f2fd}.employee-info.svelte-ti49u{display:flex;flex-direction:column;gap:3px}.employee-name.svelte-ti49u{font-weight:700;color:#2c3e50;font-size:.9rem}.training-info.svelte-ti49u{font-size:.75rem;color:#7f8c8d}.control-buttons.svelte-ti49u{display:flex;flex-direction:column;gap:8px;margin-bottom:12px}.btn.svelte-ti49u{padding:10px 15px;border:none;border-radius:6px;cursor:pointer;font-weight:600;transition:all .2s;font-size:.9rem}.btn.svelte-ti49u:disabled{opacity:.5;cursor:not-allowed}.btn-sm.svelte-ti49u{padding:6px 10px;font-size:.8rem}.btn-primary.svelte-ti49u{background:#c8e6c9;color:#2c3e50}.btn-primary.svelte-ti49u:hover:not(:disabled){background:#a5d6a7}.btn-warning.svelte-ti49u{background:#ffe0b2;color:#2c3e50}.btn-warning.svelte-ti49u:hover:not(:disabled){background:#ffcc80}.btn-danger.svelte-ti49u{background:#ffcdd2;color:#2c3e50}.btn-danger.svelte-ti49u:hover:not(:disabled){background:#ef9a9a}.btn-secondary.svelte-ti49u{background:#f0f4c3;color:#2c3e50}.btn-secondary.svelte-ti49u:hover:not(:disabled){background:#e6ee9c}.rotation-info.svelte-ti49u{background:#e8f5e8;padding:10px;border-radius:6px;border:1px solid #c8e6c9}.counter-display.svelte-ti49u{display:flex;align-items:center;gap:8px}.counter-label.svelte-ti49u{font-weight:700;color:#2c3e50;font-size:.85rem}.counter-value.svelte-ti49u{background:#c8e6c9;color:#2c3e50;padding:6px 10px;border-radius:12px;font-weight:700;min-width:30px;text-align:center;font-size:.8rem}.assignments-list.svelte-ti49u{display:flex;flex-direction:column;gap:6px}.assignment-item.svelte-ti49u{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:#f8f9fa;border-radius:6px;border-left:3px solid #c8e6c9;border:1px solid #e9ecef}.group-name.svelte-ti49u{font-weight:700;color:#2c3e50;font-size:.85rem}.risk-badge.svelte-ti49u{padding:3px 8px;border-radius:8px;font-size:.7rem;font-weight:700;color:#2c3e50}.risk-low.svelte-ti49u{background:#c8e6c9}.risk-medium.svelte-ti49u{background:#ffe0b2}.risk-high.svelte-ti49u{background:#ffcdd2}.section-description.svelte-ti49u{color:#7f8c8d;font-size:.8rem;margin:0 0 12px;font-style:italic}.manual-assignment-controls.svelte-ti49u{display:flex;flex-direction:column;gap:8px;margin-bottom:12px}.manual-assignment-actions.svelte-ti49u{display:flex;gap:8px;flex-wrap:wrap}.assignment-row.svelte-ti49u{display:flex;align-items:center;gap:8px;padding:10px;background:#f8f9fa;border-radius:6px;border-left:3px solid #c8e6c9;border:1px solid #e9ecef}.group-label.svelte-ti49u{font-weight:700;min-width:80px;font-size:.8rem;display:flex;align-items:center;gap:4px;color:#2c3e50}.employee-select.svelte-ti49u{flex:1;padding:6px 10px;border:1px solid #e9ecef;border-radius:6px;background:#fff;cursor:pointer;font-size:.8rem;color:#2c3e50}.employee-select.svelte-ti49u:focus{outline:none;border-color:#c8e6c9;box-shadow:0 0 0 2px #c8e6c94d}.employee-select.svelte-ti49u option:where(.svelte-ti49u){color:#2c3e50}@media (max-width: 1024px){.control-panel.svelte-ti49u{padding:12px;max-height:none}.employee-list.svelte-ti49u{max-height:120px}}@media (max-width: 768px){.control-panel.svelte-ti49u{padding:10px}.assignment-row.svelte-ti49u{flex-direction:column;align-items:stretch;gap:8px}.group-label.svelte-ti49u{min-width:auto}.employee-controls.svelte-ti49u{flex-wrap:wrap}.manual-assignment-actions.svelte-ti49u{flex-direction:column}.counter-display.svelte-ti49u{flex-wrap:wrap;gap:6px}}.data-import.svelte-16yivcu{background:#fff;border-radius:6px;padding:15px;margin-bottom:15px;box-shadow:0 2px 4px #0000001a}h2.svelte-16yivcu{margin:0 0 12px;color:#2c3e50;font-size:1.2rem;border-bottom:1px solid #ecf0f1;padding-bottom:8px}.quick-start.svelte-16yivcu{display:flex;align-items:center;gap:12px;margin-bottom:15px;padding-bottom:12px;border-bottom:1px solid #ecf0f1}.quick-help.svelte-16yivcu{color:#7f8c8d;font-size:.9rem}.upload-grid.svelte-16yivcu{display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-bottom:15px}.file-upload-group.svelte-16yivcu{padding:12px;border:1px solid #e9ecef;border-radius:6px;background:#f8f9fa}h4.svelte-16yivcu{margin:0 0 8px;color:#2c3e50;font-size:.9rem}.file-drop-zone.svelte-16yivcu{border:2px dashed #e9ecef;border-radius:6px;padding:15px;text-align:center;margin-bottom:8px;transition:all .2s;cursor:pointer;min-height:50px;display:flex;align-items:center;justify-content:center;background:#fff}.file-drop-zone.svelte-16yivcu:hover,.file-drop-zone.drag-over.svelte-16yivcu{border-color:#c8e6c9;background-color:#e8f5e8}.file-label.svelte-16yivcu{cursor:pointer;color:#2c3e50;font-size:.85rem;text-align:center}.import-actions.svelte-16yivcu{display:flex;align-items:center;gap:15px;margin-bottom:12px}.btn.svelte-16yivcu{padding:10px 15px;border:none;border-radius:6px;cursor:pointer;font-weight:700;transition:all .2s;font-size:.9rem}.btn.svelte-16yivcu:disabled{opacity:.5;cursor:not-allowed}.btn-sm.svelte-16yivcu{padding:6px 10px;font-size:.8rem;width:100%}.btn-primary.svelte-16yivcu{background:#c8e6c9;color:#2c3e50}.btn-primary.svelte-16yivcu:hover:not(:disabled){background:#a5d6a7}.btn-success.svelte-16yivcu{background:#c8e6c9;color:#2c3e50}.btn-success.svelte-16yivcu:hover{background:#a5d6a7}.btn-secondary.svelte-16yivcu{background:#f0f4c3;color:#2c3e50}.btn-secondary.svelte-16yivcu:hover{background:#e6ee9c}.import-status.svelte-16yivcu{font-size:.85rem;font-weight:700}.import-status.success.svelte-16yivcu{color:#2e7d32}.import-status.error.svelte-16yivcu{color:#c62828}.format-guide.svelte-16yivcu{border:1px solid #e9ecef;border-radius:6px;padding:0;background:#f8f9fa}.format-guide.svelte-16yivcu summary:where(.svelte-16yivcu){padding:10px 15px;cursor:pointer;background:#e8f5e8;font-weight:700;font-size:.9rem;border-radius:6px 6px 0 0;color:#2c3e50}.format-guide.svelte-16yivcu summary:where(.svelte-16yivcu):hover{background:#c8e6c9}.format-grid.svelte-16yivcu{display:grid;grid-template-columns:1fr 1fr;gap:15px;padding:15px}.format-item.svelte-16yivcu{font-size:.85rem;color:#555;padding:10px;background:#fff;border-radius:6px;border:1px solid #e9ecef}.format-item.svelte-16yivcu small:where(.svelte-16yivcu){color:#7f8c8d}@media (max-width: 1024px){.upload-grid.svelte-16yivcu,.format-grid.svelte-16yivcu{grid-template-columns:1fr}.quick-start.svelte-16yivcu{flex-direction:column;align-items:flex-start;gap:8px}.import-actions.svelte-16yivcu{flex-direction:column;align-items:flex-start;gap:10px}}@media (max-width: 768px){.data-import.svelte-16yivcu{padding:12px}.file-upload-group.svelte-16yivcu{padding:10px}.file-drop-zone.svelte-16yivcu{padding:12px;min-height:45px}.format-grid.svelte-16yivcu{gap:10px;padding:12px}.format-item.svelte-16yivcu{padding:8px}}.timer-container.svelte-t28gfp{display:flex;align-items:center;gap:15px;background:#fff;padding:10px 15px;border-radius:6px;box-shadow:0 2px 4px #0000001a;margin-bottom:10px;flex-wrap:wrap;min-height:50px}.current-time.svelte-t28gfp{display:flex;flex-direction:column;align-items:center;background:#e1bee7;color:#2c3e50;padding:2px 20px;border-radius:6px;font-weight:600}.time-label.svelte-t28gfp{font-size:.7rem;opacity:.8}.time-value.svelte-t28gfp{font-size:1.2rem;font-family:Courier New,monospace}.rotation-status.svelte-t28gfp{display:flex;align-items:center;gap:6px;padding:8px 12px;border-radius:6px;background:#f3e5f5}.status-indicator.svelte-t28gfp{font-size:1rem}.status-text.svelte-t28gfp{font-size:.8rem;font-weight:600;color:#7f8c8d}.timer-info.svelte-t28gfp{display:flex;gap:12px;flex:1}.info-item.svelte-t28gfp{display:flex;flex-direction:column;align-items:center;background:#c8e6c9;color:#2c3e50;padding:2px 20px;border-radius:6px;font-weight:600}.info-item.svelte-t28gfp .label:where(.svelte-t28gfp){font-size:.7rem;opacity:.8}.info-item.svelte-t28gfp .value:where(.svelte-t28gfp){font-size:1.2rem;font-family:Courier New,monospace;color:#2c3e50;font-weight:600}.info-item.svelte-t28gfp .value.urgent:where(.svelte-t28gfp){color:#e74c3c;animation:svelte-t28gfp-pulse 1s infinite}.no-timer.svelte-t28gfp{flex:1;text-align:center;color:#7f8c8d;font-style:italic;font-size:.8rem;padding:8px}.alert.svelte-t28gfp{padding:6px 10px;border-radius:6px;font-size:.8rem;font-weight:600;white-space:nowrap}.rotation-alert.svelte-t28gfp{background:#ffcdd2;color:#c62828;animation:svelte-t28gfp-pulse 1s infinite}.rotation-warning.svelte-t28gfp{background:#ffe0b2;color:#ef6c00}@keyframes svelte-t28gfp-pulse{0%{opacity:1}50%{opacity:.7}to{opacity:1}}.controls.svelte-t28gfp{display:flex;align-items:center;gap:8px;flex-shrink:0}.manual-time.svelte-t28gfp{display:flex;align-items:center;gap:4px}.time-input.svelte-t28gfp{padding:8px 15px;border:1px solid #ddd;border-radius:4px;font-family:Courier New,monospace;font-size:1rem;font-weight:600;width:150px}.btn.svelte-t28gfp{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-weight:600;font-size:1rem;transition:all .2s;white-space:nowrap}.btn.svelte-t28gfp:disabled{opacity:.5;cursor:not-allowed}.btn-primary.svelte-t28gfp{background:#c8e6c9;color:#2c3e50}.btn-primary.svelte-t28gfp:hover:not(:disabled){background:#a5d6a7}.btn-secondary.svelte-t28gfp{background:#f0f4c3;color:#2c3e50}.btn-secondary.svelte-t28gfp:hover:not(:disabled){background:#e6ee9c}@media (max-width: 1024px){.timer-container.svelte-t28gfp{gap:10px;padding:8px 12px;min-height:45px}.timer-info.svelte-t28gfp{gap:8px}.info-item.svelte-t28gfp{min-width:60px;padding:5px 8px}.controls.svelte-t28gfp{gap:6px}}@media (max-width: 768px){.timer-container.svelte-t28gfp{gap:8px;padding:6px 10px;min-height:40px}.current-time.svelte-t28gfp{padding:6px 10px}.time-value.svelte-t28gfp{font-size:.9rem}.timer-info.svelte-t28gfp{gap:6px;flex-wrap:wrap}.info-item.svelte-t28gfp{min-width:55px;padding:4px 6px}.info-item.svelte-t28gfp .label:where(.svelte-t28gfp){font-size:.6rem}.info-item.svelte-t28gfp .value:where(.svelte-t28gfp){font-size:.7rem}.manual-time.svelte-t28gfp{flex-direction:column;gap:4px}.time-input.svelte-t28gfp{width:80px;font-size:.7rem}}body{margin:0;font-family:Arial,sans-serif;background-color:#f5f5f5}main.svelte-1c0uzrp{padding:5px 50px;margin:0 auto}header.svelte-1c0uzrp{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;padding:6px 10px;background:#fff;border-radius:4px;box-shadow:0 1px 3px #0000001a;min-height:40px}h1.svelte-1c0uzrp{color:#2c3e50;margin:0;font-size:1.1rem;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;min-width:0}.header-controls.svelte-1c0uzrp{display:flex;gap:8px;align-items:center;flex-shrink:0}.import-btn.svelte-1c0uzrp{padding:10px 20px;background:#3498db;color:#fff;border:none;border-radius:5px;cursor:pointer;font-weight:500;font-size:.9rem;white-space:nowrap}.import-btn.svelte-1c0uzrp:hover{background:#2980b9}.warnings.svelte-1c0uzrp{background:#fff3cd;border:1px solid #ffeaa7;border-radius:6px;padding:8px 12px;margin-bottom:10px;display:flex;align-items:center;gap:8px;font-size:1rem}.warning-icon.svelte-1c0uzrp{color:#856404;font-weight:700;flex-shrink:0}.warning-text.svelte-1c0uzrp{color:#856404;line-height:1.3;flex:1}.main-content.svelte-1c0uzrp{display:grid;grid-template-columns:280px 1fr;gap:15px}@media (max-width: 1024px){.main-content.svelte-1c0uzrp{grid-template-columns:1fr}header.svelte-1c0uzrp{padding:4px 8px;min-height:35px;margin-bottom:6px}h1.svelte-1c0uzrp{font-size:1rem}.header-controls.svelte-1c0uzrp{gap:6px}.import-btn.svelte-1c0uzrp{padding:4px 10px;font-size:.8rem}}@media (max-width: 768px){main.svelte-1c0uzrp{padding:10px 5px}h1.svelte-1c0uzrp{font-size:.9rem}header.svelte-1c0uzrp{padding:4px 6px;min-height:32px}.warnings.svelte-1c0uzrp{padding:6px 10px;font-size:.8rem;flex-direction:column;align-items:flex-start;gap:4px}}
    </style>
  </head>
  <body>
    <div id="app"></div>
    <script>
      (function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const xn=!1;var Pt=Array.isArray,yr=Array.prototype.indexOf,ln=Array.from,Gn=Object.defineProperty,rt=Object.getOwnPropertyDescriptor,wr=Object.getOwnPropertyDescriptors,Er=Object.prototype,kr=Array.prototype,jn=Object.getPrototypeOf,$n=Object.isExtensible;const Ge=()=>{};function xr(e){return e()}function St(e){for(var t=0;t<e.length;t++)e[t]()}function $r(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}const we=2,Hn=4,Dt=8,an=16,Pe=32,st=64,on=128,ve=256,At=512,de=1024,Me=2048,Ue=4096,Ie=8192,un=16384,qn=32768,fn=65536,Sr=1<<17,Sn=1<<18,Ar=1<<19,Un=1<<20,Wt=1<<21,je=Symbol("$state"),Tr=Symbol("legacy props");function Bn(e){return e===this.v}function Vn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function cn(e){return!Vn(e,this.v)}function Cr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Lr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Rr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Or(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ir(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Mr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Pr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Dr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let it=!1,Fr=!1;function Nr(){it=!0}const vn=1,dn=2,zn=4,Gr=8,jr=16,Hr=2,qr=8,Ur=1,Br=2,oe=Symbol(),Vr="http://www.w3.org/1999/xhtml";function zr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let z=null;function An(e){z=e}function lt(e,t=!1,n){var r=z={p:z,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};it&&!t&&(z.l={s:null,u:null,r1:[],r2:dt(!1)}),gn(()=>{r.d=!0})}function at(e){const t=z;if(t!==null){const l=t.e;if(l!==null){var n=j,r=L;t.e=null;try{for(var s=0;s<l.length;s++){var i=l[s];qe(i.effect),Se(i.reaction),mn(i.fn)}}finally{qe(n),Se(r)}}z=t.p,t.m=!0}return{}}function pt(){return!it||z!==null&&z.l===null}function nt(e){if(typeof e!="object"||e===null||je in e)return e;const t=jn(e);if(t!==Er&&t!==kr)return e;var n=new Map,r=Pt(e),s=De(0),i=L,l=a=>{var f=L;Se(i);var u=a();return Se(f),u};return r&&n.set("length",De(e.length)),new Proxy(e,{defineProperty(a,f,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Mr();var d=n.get(f);return d===void 0?d=l(()=>{var _=De(u.value);return n.set(f,_),_}):E(d,u.value,!0),!0},deleteProperty(a,f){var u=n.get(f);if(u===void 0){if(f in a){const c=l(()=>De(oe));n.set(f,c),Bt(s)}}else{if(r&&typeof f=="string"){var d=n.get("length"),_=Number(f);Number.isInteger(_)&&_<d.v&&E(d,_)}E(u,oe),Bt(s)}return!0},get(a,f,u){if(f===je)return e;var d=n.get(f),_=f in a;if(d===void 0&&(!_||rt(a,f)?.writable)&&(d=l(()=>{var v=nt(_?a[f]:oe),p=De(v);return p}),n.set(f,d)),d!==void 0){var c=o(d);return c===oe?void 0:c}return Reflect.get(a,f,u)},getOwnPropertyDescriptor(a,f){var u=Reflect.getOwnPropertyDescriptor(a,f);if(u&&"value"in u){var d=n.get(f);d&&(u.value=o(d))}else if(u===void 0){var _=n.get(f),c=_?.v;if(_!==void 0&&c!==oe)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return u},has(a,f){if(f===je)return!0;var u=n.get(f),d=u!==void 0&&u.v!==oe||Reflect.has(a,f);if(u!==void 0||j!==null&&(!d||rt(a,f)?.writable)){u===void 0&&(u=l(()=>{var c=d?nt(a[f]):oe,v=De(c);return v}),n.set(f,u));var _=o(u);if(_===oe)return!1}return d},set(a,f,u,d){var _=n.get(f),c=f in a;if(r&&f==="length")for(var v=u;v<_.v;v+=1){var p=n.get(v+"");p!==void 0?E(p,oe):v in a&&(p=l(()=>De(oe)),n.set(v+"",p))}if(_===void 0)(!c||rt(a,f)?.writable)&&(_=l(()=>De(void 0)),E(_,nt(u)),n.set(f,_));else{c=_.v!==oe;var A=l(()=>nt(u));E(_,A)}var P=Reflect.getOwnPropertyDescriptor(a,f);if(P?.set&&P.set.call(d,u),!c){if(r&&typeof f=="string"){var D=n.get("length"),O=Number(f);Number.isInteger(O)&&O>=D.v&&E(D,O+1)}Bt(s)}return!0},ownKeys(a){o(s);var f=Reflect.ownKeys(a).filter(_=>{var c=n.get(_);return c===void 0||c.v!==oe});for(var[u,d]of n)d.v!==oe&&!(u in a)&&f.push(u);return f},setPrototypeOf(){Pr()}})}function Bt(e,t=1){E(e,e.v+t)}function Tn(e){try{if(e!==null&&typeof e=="object"&&je in e)return e[je]}catch{}return e}function Kr(e,t){return Object.is(Tn(e),Tn(t))}function gt(e){var t=we|Me,n=L!==null&&(L.f&we)!==0?L:null;return j===null||n!==null&&(n.f&ve)!==0?t|=ve:j.f|=Un,{ctx:z,deps:null,effects:null,equals:Bn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??j}}function Wr(e){const t=gt(e);return or(t),t}function ue(e){const t=gt(e);return t.equals=cn,t}function Kn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)He(t[n])}}function Yr(e){for(var t=e.parent;t!==null;){if((t.f&we)===0)return t;t=t.parent}return null}function Wn(e){var t,n=j;qe(Yr(e));try{Kn(e),t=vr(e)}finally{qe(n)}return t}function Yn(e){var t=Wn(e);if(e.equals(t)||(e.v=t,e.wv=fr()),!ut){var n=(Ne||(e.f&ve)!==0)&&e.deps!==null?Ue:de;Ee(e,n)}}const vt=new Map;function dt(e,t){var n={f:0,v:e,reactions:null,equals:Bn,rv:0,wv:0};return n}function De(e,t){const n=dt(e);return or(n),n}function Z(e,t=!1,n=!0){const r=dt(e);return t||(r.equals=cn),it&&n&&z!==null&&z.l!==null&&(z.l.s??=[]).push(r),r}function Jr(e,t){return E(e,S(()=>o(e))),t}function E(e,t,n=!1){L!==null&&(!$e||(L.f&Sn)!==0)&&pt()&&(L.f&(we|an|Sn))!==0&&!(me?.[1].includes(e)&&me[0]===L)&&Dr();let r=n?nt(t):t;return Yt(e,r)}function Yt(e,t){if(!e.equals(t)){var n=e.v;ut?vt.set(e,t):vt.set(e,n),e.v=t,(e.f&we)!==0&&((e.f&Me)!==0&&Wn(e),Ee(e,(e.f&ve)===0?de:Ue)),e.wv=fr(),Jn(e,Me),pt()&&j!==null&&(j.f&de)!==0&&(j.f&(Pe|st))===0&&(pe===null?os([e]):pe.push(e))}return t}function Jn(e,t){var n=e.reactions;if(n!==null)for(var r=pt(),s=n.length,i=0;i<s;i++){var l=n[i],a=l.f;(a&Me)===0&&(!r&&l===j||(Ee(l,t),(a&(de|ve))!==0&&((a&we)!==0?Jn(l,Ue):wn(l))))}}function Qr(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let Xr=!1;var Jt,Qn,Xn,Zn;function Zr(){if(Jt===void 0){Jt=window,Qn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Xn=rt(t,"firstChild").get,Zn=rt(t,"nextSibling").get,$n(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),$n(n)&&(n.__t=void 0)}}function _n(e=""){return document.createTextNode(e)}function Tt(e){return Xn.call(e)}function Ft(e){return Zn.call(e)}function g(e,t){return Tt(e)}function pn(e,t){{var n=Tt(e);return n instanceof Comment&&n.data===""?Ft(n):n}}function m(e,t=1,n=!1){let r=e;for(;t--;)r=Ft(r);return r}function es(e){e.textContent=""}function er(e){j===null&&L===null&&Rr(),L!==null&&(L.f&ve)!==0&&j===null&&Lr(),ut&&Cr()}function ts(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ot(e,t,n,r=!0){var s=j,i={ctx:z,deps:null,nodes_start:null,nodes_end:null,f:e|Me,first:null,fn:t,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(n)try{Nt(i),i.f|=qn}catch(f){throw He(i),f}else t!==null&&wn(i);var l=n&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(Un|on))===0;if(!l&&r&&(s!==null&&ts(i,s),L!==null&&(L.f&we)!==0)){var a=L;(a.effects??=[]).push(i)}return i}function gn(e){const t=ot(Dt,null,!1);return Ee(t,de),t.teardown=e,t}function Qt(e){er();var t=j!==null&&(j.f&Pe)!==0&&z!==null&&!z.m;if(t){var n=z;(n.e??=[]).push({fn:e,effect:j,reaction:L})}else{var r=mn(e);return r}}function ns(e){return er(),mt(e)}function rs(e){const t=ot(st,e,!0);return(n={})=>new Promise(r=>{n.outro?Ct(t,()=>{He(t),r(void 0)}):(He(t),r(void 0))})}function mn(e){return ot(Hn,e,!1)}function Ye(e,t){var n=z,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=mt(()=>{e(),!r.ran&&(r.ran=!0,E(n.l.r2,!0),S(t))})}function hn(){var e=z;mt(()=>{if(o(e.l.r2)){for(var t of e.l.r1){var n=t.effect;(n.f&de)!==0&&Ee(n,Ue),ht(n)&&Nt(n),t.ran=!1}e.l.r2.v=!1}})}function mt(e){return ot(Dt,e,!0)}function Q(e,t=[],n=gt){const r=t.map(n);return bn(()=>e(...r.map(o)))}function bn(e,t=0){return ot(Dt|an|t,e,!0)}function _t(e,t=!0){return ot(Dt|Pe,e,!0,t)}function tr(e){var t=e.teardown;if(t!==null){const n=ut,r=L;Cn(!0),Se(null);try{t.call(null)}finally{Cn(n),Se(r)}}}function nr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&st)!==0?n.parent=null:He(n,t),n=r}}function ss(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Pe)===0&&He(t),t=n}}function He(e,t=!0){var n=!1;(t||(e.f&Ar)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(is(e.nodes_start,e.nodes_end),n=!0),nr(e,t&&!n),Mt(e,0),Ee(e,un);var r=e.transitions;if(r!==null)for(const i of r)i.stop();tr(e);var s=e.parent;s!==null&&s.first!==null&&rr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function is(e,t){for(;e!==null;){var n=e===t?null:Ft(e);e.remove(),e=n}}function rr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ct(e,t){var n=[];yn(e,n,!0),sr(n,()=>{He(e),t&&t()})}function sr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function yn(e,t,n){if((e.f&Ie)===0){if(e.f^=Ie,e.transitions!==null)for(const l of e.transitions)(l.is_global||n)&&t.push(l);for(var r=e.first;r!==null;){var s=r.next,i=(r.f&fn)!==0||(r.f&Pe)!==0;yn(r,t,i?n:!1),r=s}}}function Lt(e){ir(e,!0)}function ir(e,t){if((e.f&Ie)!==0){e.f^=Ie;for(var n=e.first;n!==null;){var r=n.next,s=(n.f&fn)!==0||(n.f&Pe)!==0;ir(n,s?t:!1),n=r}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let Rt=[];function ls(){var e=Rt;Rt=[],St(e)}function lr(e){Rt.length===0&&queueMicrotask(ls),Rt.push(e)}function as(e){var t=j;if((t.f&qn)===0){if((t.f&on)===0)throw e;t.fn(e)}else ar(e,t)}function ar(e,t){for(;t!==null;){if((t.f&on)!==0)try{t.fn(e);return}catch{}t=t.parent}throw e}let Xt=!1,Ot=null,Xe=!1,ut=!1;function Cn(e){ut=e}let $t=[];let L=null,$e=!1;function Se(e){L=e}let j=null;function qe(e){j=e}let me=null;function or(e){L!==null&&L.f&Wt&&(me===null?me=[L,[e]]:me[1].push(e))}let ae=null,ce=0,pe=null;function os(e){pe=e}let ur=1,It=0,Ne=!1;function fr(){return++ur}function ht(e){var t=e.f;if((t&Me)!==0)return!0;if((t&Ue)!==0){var n=e.deps,r=(t&ve)!==0;if(n!==null){var s,i,l=(t&At)!==0,a=r&&j!==null&&!Ne,f=n.length;if(l||a){var u=e,d=u.parent;for(s=0;s<f;s++)i=n[s],(l||!i?.reactions?.includes(u))&&(i.reactions??=[]).push(u);l&&(u.f^=At),a&&d!==null&&(d.f&ve)===0&&(u.f^=ve)}for(s=0;s<f;s++)if(i=n[s],ht(i)&&Yn(i),i.wv>e.wv)return!0}(!r||j!==null&&!Ne)&&Ee(e,de)}return!1}function cr(e,t,n=!0){var r=e.reactions;if(r!==null)for(var s=0;s<r.length;s++){var i=r[s];me?.[1].includes(e)&&me[0]===L||((i.f&we)!==0?cr(i,t,!1):t===i&&(n?Ee(i,Me):(i.f&de)!==0&&Ee(i,Ue),wn(i)))}}function vr(e){var t=ae,n=ce,r=pe,s=L,i=Ne,l=me,a=z,f=$e,u=e.f;ae=null,ce=0,pe=null,Ne=(u&ve)!==0&&($e||!Xe||L===null),L=(u&(Pe|st))===0?e:null,me=null,An(e.ctx),$e=!1,It++,e.f|=Wt;try{var d=(0,e.fn)(),_=e.deps;if(ae!==null){var c;if(Mt(e,ce),_!==null&&ce>0)for(_.length=ce+ae.length,c=0;c<ae.length;c++)_[ce+c]=ae[c];else e.deps=_=ae;if(!Ne)for(c=ce;c<_.length;c++)(_[c].reactions??=[]).push(e)}else _!==null&&ce<_.length&&(Mt(e,ce),_.length=ce);if(pt()&&pe!==null&&!$e&&_!==null&&(e.f&(we|Ue|Me))===0)for(c=0;c<pe.length;c++)cr(pe[c],e);return s!==null&&s!==e&&(It++,pe!==null&&(r===null?r=pe:r.push(...pe))),d}catch(v){as(v)}finally{ae=t,ce=n,pe=r,L=s,Ne=i,me=l,An(a),$e=f,e.f^=Wt}}function us(e,t){let n=t.reactions;if(n!==null){var r=yr.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&we)!==0&&(ae===null||!ae.includes(t))&&(Ee(t,Ue),(t.f&(ve|At))===0&&(t.f^=At),Kn(t),Mt(t,0))}function Mt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)us(e,n[r])}function Nt(e){var t=e.f;if((t&un)===0){Ee(e,de);var n=j,r=Xe;j=e,Xe=!0;try{(t&an)!==0?ss(e):nr(e),tr(e);var s=vr(e);e.teardown=typeof s=="function"?s:null,e.wv=ur;var i;xn&&Fr&&(e.f&Me)!==0&&e.deps}finally{Xe=r,j=n}}}function fs(){try{Or()}catch(e){if(Ot!==null)ar(e,Ot);else throw e}}function cs(){var e=Xe;try{var t=0;for(Xe=!0;$t.length>0;){t++>1e3&&fs();var n=$t,r=n.length;$t=[];for(var s=0;s<r;s++){var i=ds(n[s]);vs(i)}vt.clear()}}finally{Xt=!1,Xe=e,Ot=null}}function vs(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];(r.f&(un|Ie))===0&&ht(r)&&(Nt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?rr(r):r.fn=null))}}function wn(e){Xt||(Xt=!0,queueMicrotask(cs));for(var t=Ot=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(st|Pe))!==0){if((n&de)===0)return;t.f^=de}}$t.push(t)}function ds(e){for(var t=[],n=e;n!==null;){var r=n.f,s=(r&(Pe|st))!==0,i=s&&(r&de)!==0;if(!i&&(r&Ie)===0){(r&Hn)!==0?t.push(n):s?n.f^=de:ht(n)&&Nt(n);var l=n.first;if(l!==null){n=l;continue}}var a=n.parent;for(n=n.next;n===null&&a!==null;)n=a.next,a=a.parent}return t}function o(e){var t=e.f,n=(t&we)!==0;if(L!==null&&!$e){if(!me?.[1].includes(e)||me[0]!==L){var r=L.deps;e.rv<It&&(e.rv=It,ae===null&&r!==null&&r[ce]===e?ce++:ae===null?ae=[e]:(!Ne||!ae.includes(e))&&ae.push(e))}}else if(n&&e.deps===null&&e.effects===null){var s=e,i=s.parent;i!==null&&(i.f&ve)===0&&(s.f^=ve)}return n&&(s=e,ht(s)&&Yn(s)),ut&&vt.has(e)?vt.get(e):e.v}function S(e){var t=$e;try{return $e=!0,e()}finally{$e=t}}const _s=-7169;function Ee(e,t){e.f=e.f&_s|t}function Zt(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(je in e)en(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&je in n&&en(n)}}}function en(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{en(e[r],t)}catch{}const n=jn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=wr(n);for(let s in r){const i=r[s].get;if(i)try{i.call(e)}catch{}}}}}const ps=["touchstart","touchmove"];function gs(e){return ps.includes(e)}let Ln=!1;function ms(){Ln||(Ln=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function dr(e){var t=L,n=j;Se(null),qe(null);try{return e()}finally{Se(t),qe(n)}}function _r(e,t,n,r=n){e.addEventListener(t,()=>dr(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),ms()}const pr=new Set,tn=new Set;function hs(e,t,n,r={}){function s(i){if(r.capture||ft.call(t,i),!i.cancelBubble)return dr(()=>n?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?lr(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function We(e,t,n,r,s){var i={capture:r,passive:s},l=hs(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&gn(()=>{t.removeEventListener(e,l,i)})}function bt(e){for(var t=0;t<e.length;t++)pr.add(e[t]);for(var n of tn)n(e)}function ft(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],i=s[0]||e.target,l=0,a=e.__root;if(a){var f=s.indexOf(a);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;f<=u&&(l=f)}if(i=s[l]||e.target,i!==t){Gn(e,"currentTarget",{configurable:!0,get(){return i||n}});var d=L,_=j;Se(null),qe(null);try{for(var c,v=[];i!==null;){var p=i.assignedSlot||i.parentNode||i.host||null;try{var A=i["__"+r];if(A!=null&&(!i.disabled||e.target===i))if(Pt(A)){var[P,...D]=A;P.apply(i,[e,...D])}else A.call(i,e)}catch(O){c?v.push(O):c=O}if(e.cancelBubble||p===t||p===null)break;i=p}if(c){for(let O of v)queueMicrotask(()=>{throw O});throw c}}finally{e.__root=t,delete e.currentTarget,Se(d),qe(_)}}}function bs(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function nn(e,t){var n=j;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function R(e,t){var n=(t&Ur)!==0,r=(t&Br)!==0,s,i=!e.startsWith("<!>");return()=>{s===void 0&&(s=bs(i?e:"<!>"+e),n||(s=Tt(s)));var l=r||Qn?document.importNode(s,!0):s.cloneNode(!0);if(n){var a=Tt(l),f=l.lastChild;nn(a,f)}else nn(l,l);return l}}function ct(e=""){{var t=_n(e+"");return nn(t,t),t}}function $(e,t){e!==null&&e.before(t)}function G(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function ys(e,t){return ws(e,t)}const Ze=new Map;function ws(e,{target:t,anchor:n,props:r={},events:s,context:i,intro:l=!0}){Zr();var a=new Set,f=_=>{for(var c=0;c<_.length;c++){var v=_[c];if(!a.has(v)){a.add(v);var p=gs(v);t.addEventListener(v,ft,{passive:p});var A=Ze.get(v);A===void 0?(document.addEventListener(v,ft,{passive:p}),Ze.set(v,1)):Ze.set(v,A+1)}}};f(ln(pr)),tn.add(f);var u=void 0,d=rs(()=>{var _=n??t.appendChild(_n());return _t(()=>{if(i){lt({});var c=z;c.c=i}s&&(r.$$events=s),u=e(_,r)||{},i&&at()}),()=>{for(var c of a){t.removeEventListener(c,ft);var v=Ze.get(c);--v===0?(document.removeEventListener(c,ft),Ze.delete(c)):Ze.set(c,v)}tn.delete(f),_!==n&&_.parentNode?.removeChild(_)}});return Es.set(u,d),u}let Es=new WeakMap;function re(e,t,[n,r]=[0,0]){var s=e,i=null,l=null,a=oe,f=n>0?fn:0,u=!1;const d=(c,v=!0)=>{u=!0,_(v,c)},_=(c,v)=>{a!==(a=c)&&(a?(i?Lt(i):v&&(i=_t(()=>v(s))),l&&Ct(l,()=>{l=null})):(l?Lt(l):v&&(l=_t(()=>v(s,[n+1,r]))),i&&Ct(i,()=>{i=null})))};bn(()=>{u=!1,t(d),u||_(null,null)},f)}function Je(e,t){return t}function ks(e,t,n,r){for(var s=[],i=t.length,l=0;l<i;l++)yn(t[l].e,s,!0);var a=i>0&&s.length===0&&n!==null;if(a){var f=n.parentNode;es(f),f.append(n),r.clear(),Fe(e,t[0].prev,t[i-1].next)}sr(s,()=>{for(var u=0;u<i;u++){var d=t[u];a||(r.delete(d.k),Fe(e,d.prev,d.next)),He(d.e,!a)}})}function Qe(e,t,n,r,s,i=null){var l=e,a={flags:t,items:new Map,first:null},f=(t&zn)!==0;if(f){var u=e;l=u.appendChild(_n())}var d=null,_=!1,c=ue(()=>{var v=n();return Pt(v)?v:v==null?[]:ln(v)});bn(()=>{var v=o(c),p=v.length;_&&p===0||(_=p===0,xs(v,a,l,s,t,r,n),i!==null&&(p===0?d?Lt(d):d=_t(()=>i(l)):d!==null&&Ct(d,()=>{d=null})),o(c))})}function xs(e,t,n,r,s,i,l){var a=(s&Gr)!==0,f=(s&(vn|dn))!==0,u=e.length,d=t.items,_=t.first,c=_,v,p=null,A,P=[],D=[],O,w,h,k;if(a)for(k=0;k<u;k+=1)O=e[k],w=i(O,k),h=d.get(w),h!==void 0&&(h.a?.measure(),(A??=new Set).add(h));for(k=0;k<u;k+=1){if(O=e[k],w=i(O,k),h=d.get(w),h===void 0){var ee=c?c.e.nodes_start:n;p=Ss(ee,t,p,p===null?t.first:p.next,O,w,k,r,s,l),d.set(w,p),P=[],D=[],c=p.next;continue}if(f&&$s(h,O,k,s),(h.e.f&Ie)!==0&&(Lt(h.e),a&&(h.a?.unfix(),(A??=new Set).delete(h))),h!==c){if(v!==void 0&&v.has(h)){if(P.length<D.length){var te=D[0],I;p=te.prev;var K=P[0],q=P[P.length-1];for(I=0;I<P.length;I+=1)Rn(P[I],te,n);for(I=0;I<D.length;I+=1)v.delete(D[I]);Fe(t,K.prev,q.next),Fe(t,p,K),Fe(t,q,te),c=te,p=q,k-=1,P=[],D=[]}else v.delete(h),Rn(h,c,n),Fe(t,h.prev,h.next),Fe(t,h,p===null?t.first:p.next),Fe(t,p,h),p=h;continue}for(P=[],D=[];c!==null&&c.k!==w;)(c.e.f&Ie)===0&&(v??=new Set).add(c),D.push(c),c=c.next;if(c===null)continue;h=c}P.push(h),p=h,c=h.next}if(c!==null||v!==void 0){for(var U=v===void 0?[]:ln(v);c!==null;)(c.e.f&Ie)===0&&U.push(c),c=c.next;var H=U.length;if(H>0){var B=(s&zn)!==0&&u===0?n:null;if(a){for(k=0;k<H;k+=1)U[k].a?.measure();for(k=0;k<H;k+=1)U[k].a?.fix()}ks(t,U,B,d)}}a&&lr(()=>{if(A!==void 0)for(h of A)h.a?.apply()}),j.first=t.first&&t.first.e,j.last=p&&p.e}function $s(e,t,n,r){(r&vn)!==0&&Yt(e.v,t),(r&dn)!==0?Yt(e.i,n):e.i=n}function Ss(e,t,n,r,s,i,l,a,f,u){var d=(f&vn)!==0,_=(f&jr)===0,c=d?_?Z(s,!1,!1):dt(s):s,v=(f&dn)===0?l:dt(l),p={i:v,v:c,k:i,a:null,e:null,prev:n,next:r};try{return p.e=_t(()=>a(e,c,v,u),Xr),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?t.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function Rn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==r;){var l=Ft(i);s.before(i),i=l}}function Fe(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const On=[...` 	
\r\f¬†\v\uFEFF`];function As(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,l=0;(l=r.indexOf(s,l))>=0;){var a=l+i;(l===0||On.includes(r[l-1]))&&(a===r.length||On.includes(r[a]))?r=(l===0?"":r.substring(0,l))+r.substring(a+1):l=a}}return r===""?null:r}function Ts(e,t){return e==null?null:String(e)}function ye(e,t,n,r,s,i){var l=e.__className;if(l!==n||l===void 0){var a=As(n,r,i);a==null?e.removeAttribute("class"):e.className=a,e.__className=n}else if(i&&s!==i)for(var f in i){var u=!!i[f];(s==null||u!==!!s[f])&&e.classList.toggle(f,u)}return i}function et(e,t,n,r){var s=e.__style;if(s!==t){var i=Ts(t);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}return r}function rn(e,t,n){if(e.multiple){if(t==null)return;if(!Pt(t))return Qr();for(var r of e.options)r.selected=t.includes(In(r));return}for(r of e.options){var s=In(r);if(Kr(s,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Cs(e,t){let n=!0;mn(()=>{t&&rn(e,S(t),n),n=!1;var r=new MutationObserver(()=>{var s=e.__value;rn(e,s)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function In(e){return"__value"in e?e.__value:e.value}const Ls=Symbol("is custom element"),Rs=Symbol("is html");function Os(e,t){var n=Is(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Is(e){return e.__attributes??={[Ls]:e.nodeName.includes("-"),[Rs]:e.namespaceURI===Vr}}function Ms(e,t,n=t){var r=pt();_r(e,"input",s=>{var i=s?e.defaultValue:e.value;if(i=Vt(e)?zt(i):i,n(i),r&&i!==(i=t())){var l=e.selectionStart,a=e.selectionEnd;e.value=i??"",a!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(a,e.value.length))}}),S(t)==null&&e.value&&n(Vt(e)?zt(e.value):e.value),mt(()=>{var s=t();Vt(e)&&s===zt(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Vt(e){var t=e.type;return t==="number"||t==="range"}function zt(e){return e===""?null:+e}function Mn(e,t,n=t){_r(e,"change",()=>{n(e.files)}),mt(()=>{e.files=t()})}function yt(e=!1){const t=z,n=t.l.u;if(!n)return;let r=()=>Zt(t.s);if(e){let s=0,i={};const l=gt(()=>{let a=!1;const f=t.s;for(const u in f)f[u]!==i[u]&&(i[u]=f[u],a=!0);return a&&s++,s});r=()=>o(l)}n.b.length&&ns(()=>{Pn(t,r),St(n.b)}),Qt(()=>{const s=S(()=>n.m.map(xr));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&Qt(()=>{Pn(t,r),St(n.a)})}function Pn(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}function En(e,t,n){if(e==null)return t(void 0),n&&n(void 0),Ge;const r=S(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const tt=[];function Ps(e,t){return{subscribe:Be(e,t).subscribe}}function Be(e,t=Ge){let n=null;const r=new Set;function s(a){if(Vn(e,a)&&(e=a,n)){const f=!tt.length;for(const u of r)u[1](),tt.push(u,e);if(f){for(let u=0;u<tt.length;u+=2)tt[u][0](tt[u+1]);tt.length=0}}}function i(a){s(a(e))}function l(a,f=Ge){const u=[a,f];return r.add(u),r.size===1&&(n=t(s,i)||Ge),a(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:l}}function Ds(e,t,n){const r=!Array.isArray(e),s=r?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return Ps(n,(l,a)=>{let f=!1;const u=[];let d=0,_=Ge;const c=()=>{if(d)return;_();const p=t(r?u[0]:u,l,a);i?l(p):_=typeof p=="function"?p:Ge},v=s.map((p,A)=>En(p,P=>{u[A]=P,d&=~(1<<A),f&&c()},()=>{d|=1<<A}));return f=!0,c(),function(){St(v),_(),f=!1}})}function Fs(e){let t;return En(e,n=>t=n)(),t}let Et=!1,sn=Symbol();function ge(e,t,n){const r=n[t]??={store:null,source:Z(void 0),unsubscribe:Ge};if(r.store!==e&&!(sn in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=Ge;else{var s=!0;r.unsubscribe=En(e,i=>{s?r.source.v=i:E(r.source,i)}),s=!1}return e&&sn in n?Fs(e):o(r.source)}function Gt(){const e={};function t(){gn(()=>{for(var n in e)e[n].unsubscribe();Gn(e,sn,{enumerable:!1,value:!0})})}return[e,t]}function Ns(e){var t=Et;try{return Et=!1,[e(),Et]}finally{Et=t}}function Dn(e){return e.ctx?.d??!1}function Gs(e,t,n,r){var s=!it||(n&Hr)!==0,i=(n&qr)!==0,l=!1,a;[a,l]=Ns(()=>e[t]);var f=je in e||Tr in e,u=(rt(e,t)?.set??(f&&t in e&&(h=>e[t]=h)))||void 0,d=r,_=!0,c=!1,v=()=>(c=!0,_&&(_=!1,d=r),d);a===void 0&&r!==void 0&&(u&&s&&Ir(),a=v(),u&&u(a));var p;if(s)p=()=>{var h=e[t];return h===void 0?v():(_=!0,c=!1,h)};else{var A=ue(()=>e[t]);A.f|=Sr,p=()=>{var h=o(A);return h!==void 0&&(d=void 0),h===void 0?d:h}}if(s)return p;if(u){var P=e.$$legacy;return function(h,k){return arguments.length>0?((!s||!k||P||l)&&u(k?p():h),h):p()}}var D=!1,O=Z(a),w=gt(()=>{var h=p(),k=o(O);return D?(D=!1,k):O.v=h});return o(w),w.equals=cn,function(h,k){if(arguments.length>0){const ee=k?o(w):s&&i?nt(h):h;if(!w.equals(ee)){if(D=!0,E(O,ee),c&&d!==void 0&&(d=ee),Dn(w))return h;S(()=>o(w))}return h}return Dn(w)?w.v:o(w)}}function js(e){z===null&&zr(),it&&z.l!==null?Hs(z).m.push(e):Qt(()=>{const t=S(e);if(typeof t=="function")return t})}function Hs(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const qs="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(qs);Nr();const jt=Be([]),Ht=Be([]),Oe=Be({}),kt=Be([]),Fn=Be(new Date),xt=Be(null),Kt=Be(0),gr=Ds(jt,e=>{if(!e.length)return[];const t=new Map;return e.forEach(n=>{t.has(n.group)||t.set(n.group,{group:n.group,stations:[],totalRisk:0,avgRisk:0});const r=t.get(n.group);r.stations.push(n),r.totalRisk+=n.risk}),t.forEach(n=>{n.avgRisk=n.totalRisk/n.stations.length,n.riskLevel=n.avgRisk<=1.5?"low":n.avgRisk<=2.5?"medium":"high"}),Array.from(t.values()).sort((n,r)=>n.group.localeCompare(r.group))});function mr(e){const t=e.trim().split(`
`),n=t[0].split(",").map(s=>s.trim().toLowerCase()),r=[];for(let s=1;s<t.length;s++){const i=t[s].split(",").map(a=>a.trim()),l={};n.forEach((a,f)=>{a==="station"||a==="station_number"?l.number=parseInt(i[f]):a==="group"||a==="station_group"?l.group=i[f].toUpperCase():a==="risk"||a==="risk_rating"?l.risk=parseInt(i[f]):(a==="name"||a==="station_name")&&(l.name=i[f])}),l.name||(l.name=`Station ${l.number}`),r.push(l)}return r.sort((s,i)=>s.number-i.number)}function hr(e){const t=e.trim().split(`
`),n=t[0].split(",").map(s=>s.trim().toLowerCase()),r=[];for(let s=1;s<t.length;s++){const i=t[s].split(",").map(a=>a.trim()),l={};n.forEach((a,f)=>{if(a==="name"||a==="employee_name")l.name=i[f];else if(a==="trained_groups"||a==="groups"||a==="training"){const u=i[f];l.trainedGroups=u.split(/[;,]/).map(d=>d.trim().toUpperCase()).filter(d=>d.length>0)}}),l.name&&l.trainedGroups&&r.push(l)}return r}function Us(e,t,n){console.log("Starting rotation with assignments:",e),console.log("Station groups:",n);const r={},s=Object.entries(e);if(s.length===0)return console.log("No employees to rotate"),r;const i={low:n.filter(l=>l.riskLevel==="low"),medium:n.filter(l=>l.riskLevel==="medium"),high:n.filter(l=>l.riskLevel==="high")};return console.log("Risk groups:",i),s.forEach(([l,a])=>{const f=t.find(v=>v.name===a);if(!f){console.log(`Employee ${a} not found in employee data`);return}const u=n.find(v=>v.group===l);if(!u){console.log(`Current group ${l} not found in station groups`);return}console.log(`Rotating ${a} from ${l} (${u.riskLevel})`);let d;switch(u.riskLevel){case"high":d="medium";break;case"medium":d="low";break;case"low":d="high";break;default:d="medium"}console.log(`Next risk level for ${a}: ${d}`);const _=i[d].filter(v=>f.trainedGroups.includes(v.group));console.log(`Trained groups for ${a} at ${d} risk:`,_);const c=_.filter(v=>!Object.keys(r).includes(v.group));if(console.log(`Available groups for ${a}:`,c),c.length>0){const v=c[0].group;r[v]=a,console.log(`Assigned ${a} to group ${v}`)}else{const v=n.filter(p=>f.trainedGroups.includes(p.group)&&!Object.keys(r).includes(p.group));if(v.length>0){const p=v[0].group;r[p]=a,console.log(`Fallback: Assigned ${a} to group ${p}`)}else console.log(`No available groups for ${a}, keeping in current group ${l}`),r[l]=a}}),console.log("Final new assignments:",r),r}function Nn(e,t){E(t,!o(t))}var Bs=R('<div class="header-bar svelte-pv8ean"><h2 class="svelte-pv8ean">Manufacturing Line Layout</h2> <button class="fullscreen-btn svelte-pv8ean" title="Enter Fullscreen">üîç</button></div>'),Vs=R('<button class="exit-fullscreen-btn svelte-pv8ean" title="Exit Fullscreen (ESC)">‚úï</button>'),zs=R('<div class="empty-state svelte-pv8ean"><p>No station data loaded. Please import station data using the "Import Data" button.</p></div>'),Ks=R('<div class="legend svelte-pv8ean"><h3 class="svelte-pv8ean">Risk Levels</h3> <div class="legend-items svelte-pv8ean"><div class="legend-item svelte-pv8ean"><div class="color-box svelte-pv8ean"></div> <span>Low Risk (1)</span></div> <div class="legend-item svelte-pv8ean"><div class="color-box svelte-pv8ean"></div> <span>Medium Risk (2)</span></div> <div class="legend-item svelte-pv8ean"><div class="color-box svelte-pv8ean"></div> <span>High Risk (3)</span></div></div></div>'),Ws=R('<span class="employee-name svelte-pv8ean"> </span>'),Ys=R('<span class="no-assignment svelte-pv8ean">No Assignment</span>'),Js=R('<div><div class="station-number svelte-pv8ean"> </div> <div class="station-name svelte-pv8ean"> </div> <div class="station-risk svelte-pv8ean"> </div></div>'),Qs=R('<div class="station-group svelte-pv8ean"><div class="group-header svelte-pv8ean"><div class="group-info svelte-pv8ean"><div class="group-title svelte-pv8ean"><h3 class="svelte-pv8ean"> </h3> <span class="risk-badge svelte-pv8ean"> </span></div></div> <div class="assigned-employee svelte-pv8ean"><!></div></div> <div></div></div>'),Xs=R("<!> <div></div>",1),Zs=R("<div><!> <!></div>");function ei(e,t){lt(t,!1);const[n,r]=Gt(),s=()=>ge(gr,"$stationGroups",n),i=()=>ge(Oe,"$assignments",n);let l=Z(!1);const a={1:"#c8e6c9",2:"#ffe0b2",3:"#ffcdd2"},f={low:"#a5d6a7",medium:"#ffcc80",high:"#ef9a9a"};function u(w){switch(w){case 1:return"Low";case 2:return"Medium";case 3:return"High";default:return"Unknown"}}function d(w){w.key==="Escape"&&o(l)&&E(l,!1)}yt();var _=Zs();We("keydown",Jt,d);let c;var v=g(_);{var p=w=>{var h=Bs(),k=m(g(h),2);k.__click=[Nn,l],$(w,h)},A=w=>{var h=Vs();h.__click=[Nn,l],$(w,h)};re(v,w=>{o(l)?w(A,!1):w(p)})}var P=m(v,2);{var D=w=>{var h=zs();$(w,h)},O=w=>{var h=Xs(),k=pn(h);{var ee=K=>{var q=Ks(),U=m(g(q),2),H=g(U),B=g(H),X=m(H,2),se=g(X),he=m(X,2),ke=g(he);Q(()=>{et(B,`background-color: ${a[1]}`),et(se,`background-color: ${a[2]}`),et(ke,`background-color: ${a[3]}`)}),$(K,q)};re(k,K=>{o(l)||K(ee)})}var te=m(k,2);let I;Qe(te,5,s,Je,(K,q)=>{var U=Qs(),H=g(U),B=g(H),X=g(B),se=g(X),he=g(se),ke=m(se,2),Ve=g(ke),Ae=m(B,2),ze=g(Ae);{var xe=x=>{var M=Ws(),ne=g(M);Q(()=>G(ne,`üë§ ${i()[o(q).group]??""}`)),$(x,M)},Te=x=>{var M=Ys();$(x,M)};re(ze,x=>{i()[o(q).group]?x(xe):x(Te,!1)})}var F=m(H,2);let b;Qe(F,5,()=>o(q).stations,Je,(x,M)=>{var ne=Js();let y;var T=g(ne),V=g(T),N=m(T,2),W=g(N),Y=m(N,2),ie=g(Y);Q((C,le)=>{y=ye(ne,1,"station svelte-pv8ean",null,y,C),et(ne,`background-color: ${a[o(M).risk]??""}; border-color: ${a[o(M).risk]??""}`),G(V,o(M).number),G(W,o(M).name),G(ie,le)},[()=>({"fullscreen-station":o(l)}),()=>u(o(M).risk)],ue),$(x,ne)}),Q((x,M,ne)=>{et(U,`border-color: ${f[o(q).riskLevel]??""}`),et(H,`background-color: ${f[o(q).riskLevel]??""}`),G(he,`Group ${o(q).group??""}`),G(Ve,`${x??""} (${M??""})`),b=ye(F,1,"stations-grid svelte-pv8ean",null,b,ne)},[()=>o(q).riskLevel.toUpperCase(),()=>o(q).avgRisk.toFixed(1),()=>({"fullscreen-stations":o(l)})],ue),$(K,U)}),Q(K=>I=ye(te,1,"groups-container svelte-pv8ean",null,I,K),[()=>({"fullscreen-grid":o(l)})],ue),$(w,h)};re(P,w=>{s().length===0?w(D):w(O,!1)})}Q(w=>c=ye(_,1,"station-layout svelte-pv8ean",null,c,w),[()=>({fullscreen:o(l)})],ue),$(e,_),at(),r()}bt(["click"]);var ti=R('<p class="empty-message svelte-ti49u">No employee data loaded. Import employee data first.</p>'),ni=(e,t,n)=>t(o(n).name),ri=R('<label class="employee-item svelte-ti49u"><input type="checkbox"/> <div class="employee-info svelte-ti49u"><span class="employee-name svelte-ti49u"> </span> <span class="training-info svelte-ti49u"> </span></div></label>'),si=R('<div class="employee-controls svelte-ti49u"><button class="btn btn-sm svelte-ti49u">Select All</button> <button class="btn btn-sm btn-secondary svelte-ti49u">Clear All</button></div> <div class="employee-list svelte-ti49u"></div>',1),ii=(e,t,n)=>t(o(n).group,e.target.value),li=R('<option class="svelte-ti49u"> </option>'),ai=R('<div class="assignment-row svelte-ti49u"><span class="group-label svelte-ti49u"> </span> <select class="employee-select svelte-ti49u"><option class="svelte-ti49u">-- Select Employee --</option><!></select> <span> </span></div>'),oi=(e,t)=>E(t,{}),ui=R('<div class="section svelte-ti49u"><h3 class="svelte-ti49u">Manual Assignment</h3> <p class="section-description svelte-ti49u">Manually assign employees to specific station groups</p> <div class="manual-assignment-controls svelte-ti49u"></div> <div class="manual-assignment-actions svelte-ti49u"><button class="btn btn-primary svelte-ti49u">Apply Manual Assignments</button> <button class="btn btn-secondary svelte-ti49u">Clear Manual</button></div></div>'),fi=R('<p class="empty-message svelte-ti49u">No current assignments</p>'),ci=R("<span> </span>"),vi=R('<div class="assignment-item svelte-ti49u"><span class="group-name svelte-ti49u"> </span> <span class="employee-name svelte-ti49u"> </span> <!></div>'),di=R('<div class="assignments-list svelte-ti49u"></div>'),_i=R('<div class="control-panel svelte-ti49u"><h2 class="svelte-ti49u">Control Panel</h2> <div class="section svelte-ti49u"><h3 class="svelte-ti49u"> </h3> <!></div> <div class="section svelte-ti49u"><h3 class="svelte-ti49u">Assignment Controls</h3> <div class="control-buttons svelte-ti49u"><button class="btn btn-primary svelte-ti49u">Auto Assign</button> <button class="btn btn-warning svelte-ti49u">Rotate Now</button> <button class="btn btn-danger svelte-ti49u">Clear Assignments</button></div> <div class="rotation-info svelte-ti49u"><div class="counter-display svelte-ti49u"><span class="counter-label svelte-ti49u">Rotations:</span> <span class="counter-value svelte-ti49u"> </span> <button class="btn btn-sm svelte-ti49u">Regroup</button></div></div></div> <!> <div class="section svelte-ti49u"><h3 class="svelte-ti49u">Current Assignments</h3> <!></div></div>');function pi(e,t){lt(t,!1);const[n,r]=Gt(),s=()=>ge(gr,"$stationGroups",n),i=()=>ge(Oe,"$assignments",n),l=()=>ge(kt,"$presentEmployees",n),a=()=>ge(Ht,"$employees",n),f=()=>ge(Kt,"$rotationCounter",n);let u=Z({});function d(){if(l().length===0||s().length===0)return;const y={},T=[...s()],V=[...l()];T.sort((N,W)=>{const Y={high:3,medium:2,low:1};return Y[W.riskLevel]-Y[N.riskLevel]});for(const N of T){const W=V.find(Y=>{const ie=a().find(C=>C.name===Y);return ie&&ie.trainedGroups.includes(N.group)});if(W){y[N.group]=W;const Y=V.indexOf(W);V.splice(Y,1)}}Oe.set(y)}function _(){if(console.log("Starting rotation..."),console.log("Current assignments:",i()),console.log("Available employees:",a()),console.log("Station groups:",s()),Object.keys(i()).length===0){console.log("No assignments to rotate"),alert("No current assignments to rotate. Please assign employees first.");return}const y=Us(i(),a(),s());if(console.log("New assignments after rotation:",y),Object.keys(y).length===0){console.log("Rotation failed - no new assignments created"),alert("Rotation failed. Please check that employees are trained for available station groups.");return}Oe.set(y),Kt.update(V=>V+1),console.log("Rotation completed. Counter:",f()+1);const T=Object.keys(y).length;console.log(`Successfully rotated ${T} employees`)}function c(){Oe.set({})}function v(){Kt.set(0)}function p(){Oe.set({...o(u)})}function A(y,T){T===""?delete o(u)[y]:Jr(u,o(u)[y]=T),E(u,{...o(u)})}function P(y,T){const V=a().find(N=>N.name===y);return V&&V.trainedGroups.includes(T)}function D(y){const T=l().filter(N=>P(N,y)),V=Object.values(o(u)).filter(N=>N!==o(u)[y]);return T.filter(N=>!V.includes(N))}function O(y){kt.update(T=>{if(T.includes(y)){const V=T.filter(N=>N!==y);return Oe.update(N=>{const W={...N};return Object.keys(W).forEach(Y=>{W[Y]===y&&delete W[Y]}),W}),V}else return[...T,y]})}function w(){kt.set(a().map(y=>y.name))}function h(){kt.set([]),Oe.set({})}Ye(()=>(s(),i()),()=>{s().length>0&&E(u,{...i()})}),hn(),yt();var k=_i(),ee=m(g(k),2),te=g(ee),I=g(te),K=m(te,2);{var q=y=>{var T=ti();$(y,T)},U=y=>{var T=si(),V=pn(T),N=g(V);N.__click=w;var W=m(N,2);W.__click=h;var Y=m(V,2);Qe(Y,5,a,Je,(ie,C)=>{var le=ri(),be=g(le);be.__change=[ni,O,C];var Ke=m(be,2),J=g(Ke),_e=g(J),Ce=m(J,2),Le=g(Ce);Q((fe,Re)=>{Os(be,fe),G(_e,(o(C),S(()=>o(C).name))),G(Le,`Trained: ${Re??""}`)},[()=>(l(),o(C),S(()=>l().includes(o(C).name))),()=>(o(C),S(()=>o(C).trainedGroups.join(", ")))],ue),$(ie,le)}),$(y,T)};re(K,y=>{a(),S(()=>a().length===0)?y(q):y(U,!1)})}var H=m(ee,2),B=m(g(H),2),X=g(B);X.__click=d;var se=m(X,2);se.__click=_;var he=m(se,2);he.__click=c;var ke=m(B,2),Ve=g(ke),Ae=m(g(Ve),2),ze=g(Ae),xe=m(Ae,2);xe.__click=v;var Te=m(H,2);{var F=y=>{var T=ui(),V=m(g(T),4);Qe(V,5,s,Je,(ie,C)=>{var le=ai(),be=g(le),Ke=g(be),J=m(be,2);Cs(J,()=>(o(u),o(C),S(()=>o(u)[o(C).group]||"")));var _e;J.__change=[ii,A,C];var Ce=g(J);Ce.value=Ce.__value="";var Le=m(Ce);Qe(Le,1,()=>(o(C),S(()=>D(o(C).group))),Je,(qt,Ut)=>{var wt=li(),kn={},br=g(wt);Q(()=>{kn!==(kn=o(Ut))&&(wt.value=(wt.__value=o(Ut))??""),G(br,o(Ut))}),$(qt,wt)});var fe=m(J,2),Re=g(fe);Q(()=>{G(Ke,`Group ${o(C),S(()=>o(C).group)??""}:`),_e!==(_e=(o(u),o(C),S(()=>o(u)[o(C).group]||"")))&&(J.value=(J.__value=(o(u),o(C),S(()=>o(u)[o(C).group]||"")))??"",rn(J,(o(u),o(C),S(()=>o(u)[o(C).group]||"")))),ye(fe,1,`risk-badge risk-${o(C),S(()=>o(C).riskLevel)??""}`,"svelte-ti49u"),G(Re,(o(C),S(()=>o(C).riskLevel)))}),$(ie,le)});var N=m(V,2),W=g(N);W.__click=p;var Y=m(W,2);Y.__click=[oi,u],Q(ie=>W.disabled=ie,[()=>(o(u),S(()=>Object.keys(o(u)).length===0))],ue),$(y,T)};re(Te,y=>{s(),l(),S(()=>s().length>0&&l().length>0)&&y(F)})}var b=m(Te,2),x=m(g(b),2);{var M=y=>{var T=fi();$(y,T)},ne=y=>{var T=di();Qe(T,5,()=>(i(),S(()=>Object.entries(i()))),Je,(V,N)=>{var W=Wr(()=>$r(o(N),2));let Y=()=>o(W)[0],ie=()=>o(W)[1];var C=vi();const le=ue(()=>(s(),Y(),S(()=>s().find(fe=>fe.group===Y()))));var be=g(C),Ke=g(be),J=m(be,2),_e=g(J),Ce=m(J,2);{var Le=fe=>{var Re=ci(),qt=g(Re);Q(()=>{ye(Re,1,`risk-badge risk-${Zt(o(le)),S(()=>o(le).riskLevel)??""}`,"svelte-ti49u"),G(qt,(Zt(o(le)),S(()=>o(le).riskLevel)))}),$(fe,Re)};re(Ce,fe=>{o(le)&&fe(Le)})}Q(()=>{G(Ke,`Group ${Y()??""}`),G(_e,ie())}),$(V,C)}),$(y,T)};re(x,y=>{i(),S(()=>Object.keys(i()).length===0)?y(M):y(ne,!1)})}Q(y=>{G(I,`Present Employees (${l(),S(()=>l().length)??""})`),X.disabled=(l(),s(),S(()=>l().length===0||s().length===0)),se.disabled=y,G(ze,f())},[()=>(i(),S(()=>Object.keys(i()).length===0))],ue),$(e,k),at(),r()}bt(["click","change"]);async function gi(e,t,n,r,s){E(t,"Processing files...");try{if(o(n)){const i=await o(n).text(),l=mr(i);jt.set(l),E(t,"Stations data imported successfully. ")}if(o(r)){const i=await o(r).text(),l=hr(i);Ht.set(l),E(t,o(t)+"Employees data imported successfully.")}if(!o(n)&&!o(r)){E(t,"Please select files to import.");return}E(n,null),E(r,null),setTimeout(()=>{s()(),E(t,"")},2e3)}catch(i){E(t,`Error processing files: ${i.message}`)}}function mi(e,t,n,r,s){const i=mr(t),l=hr(n);jt.set(i),Ht.set(l),E(r,"Sample data loaded successfully!"),setTimeout(()=>{s()(),E(r,"")},1500)}var hi=(e,t)=>t(e,"stations"),bi=(e,t,n)=>t("sample_stations.csv",n),yi=(e,t)=>t(e,"employees"),wi=(e,t,n)=>t("sample_employees.csv",n),Ei=R("<span> </span>"),ki=R('<div class="data-import svelte-16yivcu"><h2 class="svelte-16yivcu">Import Data</h2> <div class="quick-start svelte-16yivcu"><button class="btn btn-success svelte-16yivcu">Load Sample Data</button> <span class="quick-help svelte-16yivcu">or upload your own CSV files below</span></div> <div class="upload-grid svelte-16yivcu"><div class="file-upload-group svelte-16yivcu"><h4 class="svelte-16yivcu">Stations CSV</h4> <div role="button" tabindex="0"><input type="file" accept=".csv" style="display: none" id="stations-file"/> <label for="stations-file" class="file-label svelte-16yivcu"><!></label></div> <button class="btn btn-sm btn-secondary svelte-16yivcu">Sample</button></div> <div class="file-upload-group svelte-16yivcu"><h4 class="svelte-16yivcu">Employees CSV</h4> <div role="button" tabindex="0"><input type="file" accept=".csv" style="display: none" id="employees-file"/> <label for="employees-file" class="file-label svelte-16yivcu"><!></label></div> <button class="btn btn-sm btn-secondary svelte-16yivcu">Sample</button></div></div> <div class="import-actions svelte-16yivcu"><button class="btn btn-primary svelte-16yivcu">Import Files</button> <!></div> <details class="format-guide svelte-16yivcu"><summary class="svelte-16yivcu">CSV Format Help</summary> <div class="format-grid svelte-16yivcu"><div class="format-item svelte-16yivcu"><strong>Stations:</strong> station, group, risk, name <br/><small class="svelte-16yivcu">Risk: 1=Low, 2=Medium, 3=High</small></div> <div class="format-item svelte-16yivcu"><strong>Employees:</strong> name, trained_groups <br/><small class="svelte-16yivcu">Groups: A;B;C or A,B,C</small></div></div></details></div>');function xi(e,t){lt(t,!1);let n=Gs(t,"onDataImported",8,()=>{}),r=Z(null),s=Z(null),i=Z(!1),l=Z("");const a=`station,group,risk,name
1,A,2,Cutting Station 1
2,A,3,Cutting Station 2
3,B,1,Assembly Point 1
4,B,2,Assembly Point 2
5,B,1,Assembly Point 3
6,C,3,Welding Station 1
7,C,3,Welding Station 2
8,D,1,Quality Check 1
9,D,2,Quality Check 2
10,E,2,Packaging Line 1
11,E,1,Packaging Line 2
12,E,2,Packaging Line 3
13,F,3,Heavy Lifting 1
14,F,3,Heavy Lifting 2
15,G,1,Final Inspection 1
16,G,1,Final Inspection 2
17,H,2,Shipping Prep 1
18,H,2,Shipping Prep 2
19,I,1,Documentation
20,J,2,Maintenance Point
21,K,1,Storage Area
22,K,1,Loading Dock`,f=`name,trained_groups
John Smith,A;B;C
Maria Garcia,B;C;D
David Johnson,A;D;E
Sarah Wilson,C;E;F
Michael Brown,D;F;G
Lisa Davis,E;G;H
Robert Miller,F;H;I
Jennifer Moore,G;I;J
William Taylor,H;J;K
Ashley Anderson,A;I;K`;function u(b,x){const M=new Blob([x],{type:"text/csv"}),ne=URL.createObjectURL(M),y=document.createElement("a");y.href=ne,y.download=b,y.click(),URL.revokeObjectURL(ne)}function d(b){b.preventDefault(),E(i,!0)}function _(b){b.preventDefault(),E(i,!1)}function c(b,x){b.preventDefault(),E(i,!1);const M=b.dataTransfer.files;M.length>0&&E(x==="stations"?r:s,M[0])}function v(b,x){const M=b.target.files[0];M&&E(x==="stations"?r:s,M)}yt();var p=ki(),A=m(g(p),2),P=g(A);P.__click=[mi,a,f,l,n];var D=m(A,2),O=g(D),w=m(g(O),2);let h;var k=g(w);k.__change=[hi,v];var ee=m(k,2),te=g(ee);{var I=b=>{var x=ct();Q(()=>G(x,`üìÑ ${o(r),S(()=>o(r).name)??""}`)),$(b,x)},K=b=>{var x=ct("üìÅ Drop CSV or click");$(b,x)};re(te,b=>{o(r)?b(I):b(K,!1)})}var q=m(w,2);q.__click=[bi,u,a];var U=m(O,2),H=m(g(U),2);let B;var X=g(H);X.__change=[yi,v];var se=m(X,2),he=g(se);{var ke=b=>{var x=ct();Q(()=>G(x,`üìÑ ${o(s),S(()=>o(s).name)??""}`)),$(b,x)},Ve=b=>{var x=ct("üìÅ Drop CSV or click");$(b,x)};re(he,b=>{o(s)?b(ke):b(Ve,!1)})}var Ae=m(H,2);Ae.__click=[wi,u,f];var ze=m(D,2),xe=g(ze);xe.__click=[gi,l,r,s,n];var Te=m(xe,2);{var F=b=>{var x=Ei();let M;var ne=g(x);Q(y=>{M=ye(x,1,"import-status svelte-16yivcu",null,M,y),G(ne,o(l))},[()=>({success:o(l).includes("success"),error:o(l).includes("Error")})],ue),$(b,x)};re(Te,b=>{o(l)&&b(F)})}Q((b,x)=>{h=ye(w,1,"file-drop-zone svelte-16yivcu",null,h,b),B=ye(H,1,"file-drop-zone svelte-16yivcu",null,B,x),xe.disabled=!o(r)&&!o(s)},[()=>({"drag-over":o(i)}),()=>({"drag-over":o(i)})],ue),We("dragover",w,d),We("dragleave",w,_),We("drop",w,b=>c(b,"stations")),Mn(k,()=>o(r),b=>E(r,b)),We("dragover",H,d),We("dragleave",H,_),We("drop",H,b=>c(b,"employees")),Mn(X,()=>o(s),b=>E(s,b)),$(e,p),at()}bt(["click","change"]);var $i=R('<div class="alert rotation-alert svelte-t28gfp">üîî Rotation Time!</div>'),Si=R('<div class="alert rotation-warning svelte-t28gfp"> </div>'),Ai=R('<div class="timer-info svelte-t28gfp"><div class="info-item svelte-t28gfp"><span class="label svelte-t28gfp">Started Time</span> <span class="value svelte-t28gfp"> </span></div> <div class="info-item svelte-t28gfp"><span class="label svelte-t28gfp">Elapsed Time</span> <span class="value svelte-t28gfp"> </span></div> <div class="info-item svelte-t28gfp"><span class="label svelte-t28gfp">Remaining Time</span> <span> </span></div></div> <!>',1),Ti=R('<div class="no-timer svelte-t28gfp"><span class="svelte-t28gfp">Timer not started</span></div>'),Ci=R('<button class="btn btn-primary svelte-t28gfp">Start</button>'),Li=R('<div class="timer-container svelte-t28gfp"><div class="current-time svelte-t28gfp"><span class="time-label svelte-t28gfp">Current Time</span> <span class="time-value svelte-t28gfp"> </span></div> <div class="rotation-status svelte-t28gfp"><div> </div> <span class="status-text svelte-t28gfp"> </span></div> <!> <div class="controls svelte-t28gfp"><!> <button class="btn btn-secondary svelte-t28gfp">Reset</button> <div class="manual-time svelte-t28gfp"><input type="time" class="time-input svelte-t28gfp" placeholder="Set time"/> <button class="btn svelte-t28gfp">Set</button></div></div></div>');function Ri(e,t){lt(t,!1);const[n,r]=Gt(),s=()=>ge(xt,"$rotationStartTime",n),i=()=>ge(Fn,"$currentTime",n),l=Z(),a=Z(),f=Z(),u=Z(),d=Z();let _,c=Z(null),v=Z(!1);js(()=>(_=setInterval(()=>{Fn.set(new Date)},1e3),()=>{_&&clearInterval(_)}));function p(F){return F.toLocaleTimeString("en-US",{hour12:!0,hour:"numeric",minute:"2-digit",second:"2-digit"})}function A(F){const b=Math.floor(F/60),x=F%60;return`${b}h ${x}m`}function P(){xt.set(new Date),E(v,!0)}function D(){xt.set(null),E(v,!1)}function O(){if(o(c)){const[F,b]=o(c).split(":"),x=new Date;x.setHours(parseInt(F),parseInt(b),0,0),xt.set(x),E(v,!0)}}Ye(()=>(s(),i()),()=>{E(l,s()?Math.floor((i()-s())/(1e3*60)):0)}),Ye(()=>(s(),o(l)),()=>{E(a,s()?Math.max(0,120-o(l)):120)}),Ye(()=>i(),()=>{E(f,p(i()))}),Ye(()=>o(l),()=>{E(u,A(o(l)))}),Ye(()=>o(a),()=>{E(d,A(o(a)))}),hn(),yt();var w=Li(),h=g(w),k=m(g(h),2),ee=g(k),te=m(h,2),I=g(te);let K;var q=g(I),U=m(I,2),H=g(U),B=m(te,2);{var X=F=>{var b=Ai(),x=pn(b),M=g(x),ne=m(g(M),2),y=g(ne),T=m(M,2),V=m(g(T),2),N=g(V),W=m(T,2),Y=m(g(W),2);let ie;var C=g(Y),le=m(x,2);{var be=J=>{var _e=$i();$(J,_e)},Ke=(J,_e)=>{{var Ce=Le=>{var fe=Si(),Re=g(fe);Q(()=>G(Re,`‚ö†Ô∏è Due in ${o(a)??""}m`)),$(Le,fe)};re(J,Le=>{o(a)<=10&&Le(Ce)},_e)}};re(le,J=>{o(a)===0?J(be):J(Ke,!1)})}Q((J,_e)=>{G(y,J),G(N,o(u)),ie=ye(Y,1,"value svelte-t28gfp",null,ie,_e),G(C,o(d))},[()=>(s(),S(()=>p(s()))),()=>({urgent:o(a)<=10})],ue),$(F,b)},se=F=>{var b=Ti();$(F,b)};re(B,F=>{s()?F(X):F(se,!1)})}var he=m(B,2),ke=g(he);{var Ve=F=>{var b=Ci();b.__click=P,$(F,b)};re(ke,F=>{o(v)||F(Ve)})}var Ae=m(ke,2);Ae.__click=D;var ze=m(Ae,2),xe=g(ze),Te=m(xe,2);Te.__click=O,Q(F=>{G(ee,o(f)),K=ye(I,1,"status-indicator svelte-t28gfp",null,K,F),G(q,o(v)?"‚è∞":"‚è∏Ô∏è"),G(H,o(v)?"Running":"Stopped"),Te.disabled=!o(c)},[()=>({running:o(v)})],ue),Ms(xe,()=>o(c),F=>E(c,F)),$(e,w),at(),r()}bt(["click"]);var Oi=(e,t)=>E(t,!o(t)),Ii=R('<div class="warnings svelte-1c0uzrp"><span class="warning-icon svelte-1c0uzrp">‚ö†Ô∏è</span> <span class="warning-text svelte-1c0uzrp"></span></div>'),Mi=R('<main class="svelte-1c0uzrp"><header class="svelte-1c0uzrp"><h1 class="svelte-1c0uzrp">Manufacturing Line Rotation Manager</h1> <div class="header-controls svelte-1c0uzrp"><!> <button class="import-btn svelte-1c0uzrp"> </button></div></header> <!> <!> <div class="main-content svelte-1c0uzrp"><!> <!></div></main>');function Pi(e,t){lt(t,!1);const[n,r]=Gt(),s=()=>ge(jt,"$stations",n),i=()=>ge(Ht,"$employees",n),l=()=>ge(Oe,"$assignments",n);let a=Z(!1),f=Z([]);function u(I,K,q){const U=[];if(!I.length||!K.length)return U;const H=[...new Set(I.map(B=>B.group))];for(const B of H){const X=q[B];if(!X){U.push(`No one assigned to group ${B}`);continue}const se=K.find(he=>he.name===X);(!se||!se.trainedGroups.includes(B))&&U.push(`${X} is not trained for group ${B}`)}return U}function d(){E(a,!1)}Ye(()=>(s(),i(),l()),()=>{E(f,u(s(),i(),l()))}),hn(),yt();var _=Mi(),c=g(_),v=m(g(c),2),p=g(v);Ri(p,{});var A=m(p,2);A.__click=[Oi,a];var P=g(A),D=m(c,2);{var O=I=>{xi(I,{onDataImported:d})};re(D,I=>{o(a)&&I(O)})}var w=m(D,2);{var h=I=>{var K=Ii(),q=m(g(K),2);Qe(q,5,()=>o(f),Je,(U,H,B)=>{var X=ct();Q(()=>G(X,`‚Ä¢ ${o(H)??""}${o(f),S(()=>B<o(f).length-1?" ":"")??""}`)),$(U,X)}),$(I,K)};re(w,I=>{o(f),S(()=>o(f).length>0)&&I(h)})}var k=m(w,2),ee=g(k);pi(ee,{});var te=m(ee,2);ei(te,{}),Q(()=>G(P,o(a)?"Close":"Import Data")),$(e,_),at(),r()}bt(["click"]);ys(Pi,{target:document.getElementById("app")});
    </script>
  </body>
</html>